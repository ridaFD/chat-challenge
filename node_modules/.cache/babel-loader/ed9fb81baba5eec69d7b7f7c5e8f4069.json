{"ast":null,"code":"var _jsxFileName = \"/home/rida/chat-challenge/src/App.js\";\nimport React, { Component } from 'react';\nimport io from 'socket.io-client';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isConnected: false,\n      id: null\n    };\n    this.socket = null;\n  }\n\n  componentWillMount() {\n    this.socket = io('https://codi-server.herokuapp.com');\n    this.socket.on('connect', () => {\n      this.setState({\n        isConnected: true\n      });\n    });\n    this.socket.on('pong!', () => {\n      console.log('the server answered!');\n    });\n    this.socket.on('pong!', additionalStuff => {\n      console.log('server answered!', additionalStuff);\n    });\n    this.socket.on('youare', answer => {\n      this.setState({\n        id: answer.id\n      });\n    });\n    this.socket.on('disconnect', () => {\n      this.setState({\n        isConnected: false\n      });\n    });\n    /** this will be useful way, way later **/\n\n    this.socket.on('room', old_messages => console.log(old_messages));\n    this.socket.on('next', message_from_server => console.log(message_from_server));\n  }\n\n  componentWillUnmount() {\n    this.socket.close();\n    this.socket = null;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"status: \", this.state.isConnected ? 'connected' : 'disconnected'), React.createElement(\"button\", {\n      onClick: () => this.socket.emit('ping!'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"ping\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"id: \", this.state.id), React.createElement(\"button\", {\n      onClick: () => this.socket.emit('ping!'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"ping\"), React.createElement(\"button\", {\n      onClick: () => this.socket.emit('whoami'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Who am I?\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/rida/chat-challenge/src/App.js"],"names":["React","Component","io","App","state","isConnected","id","socket","componentWillMount","on","setState","console","log","additionalStuff","answer","old_messages","message_from_server","componentWillUnmount","close","render","emit"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAE1BG,KAF0B,GAElB;AACNC,MAAAA,WAAW,EAAC,KADN;AAENC,MAAAA,EAAE,EAAC;AAFG,KAFkB;AAAA,SAM1BC,MAN0B,GAMjB,IANiB;AAAA;;AAQ1BC,EAAAA,kBAAkB,GAAE;AAElB,SAAKD,MAAL,GAAcL,EAAE,CAAC,mCAAD,CAAhB;AAEA,SAAKK,MAAL,CAAYE,EAAZ,CAAe,SAAf,EAA0B,MAAM;AAC9B,WAAKC,QAAL,CAAc;AAACL,QAAAA,WAAW,EAAC;AAAb,OAAd;AACD,KAFD;AAGA,SAAKE,MAAL,CAAYE,EAAZ,CAAe,OAAf,EAAuB,MAAI;AACzBE,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,KAFD;AAIA,SAAKL,MAAL,CAAYE,EAAZ,CAAe,OAAf,EAAwBI,eAAD,IAAmB;AACxCF,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCC,eAAhC;AACD,KAFD;AAIA,SAAKN,MAAL,CAAYE,EAAZ,CAAe,QAAf,EAAyBK,MAAD,IAAU;AAChC,WAAKJ,QAAL,CAAc;AAACJ,QAAAA,EAAE,EAACQ,MAAM,CAACR;AAAX,OAAd;AACD,KAFD;AAIA,SAAKC,MAAL,CAAYE,EAAZ,CAAe,YAAf,EAA6B,MAAM;AACjC,WAAKC,QAAL,CAAc;AAACL,QAAAA,WAAW,EAAC;AAAb,OAAd;AACD,KAFD;AAIA;;AACA,SAAKE,MAAL,CAAYE,EAAZ,CAAe,MAAf,EAAuBM,YAAY,IAAIJ,OAAO,CAACC,GAAR,CAAYG,YAAZ,CAAvC;AACA,SAAKR,MAAL,CAAYE,EAAZ,CAAe,MAAf,EAAuBO,mBAAD,IAAuBL,OAAO,CAACC,GAAR,CAAYI,mBAAZ,CAA7C;AAED;;AAEDC,EAAAA,oBAAoB,GAAE;AACpB,SAAKV,MAAL,CAAYW,KAAZ;AACA,SAAKX,MAAL,GAAc,IAAd;AACD;;AAEDY,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAc,KAAKf,KAAL,CAAWC,WAAX,GAAyB,WAAzB,GAAuC,cAArD,CADF,EAGE;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKE,MAAL,CAAYa,IAAZ,CAAiB,OAAjB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAU,KAAKhB,KAAL,CAAWE,EAArB,CALA,EAMA;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKC,MAAL,CAAYa,IAAZ,CAAiB,OAAjB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANA,EAQA;AAAQ,MAAA,OAAO,EAAE,MAAI,KAAKb,MAAL,CAAYa,IAAZ,CAAiB,QAAjB,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARA,CADF;AAYD;;AAvDyB;;AA0D5B,eAAejB,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport io from 'socket.io-client';\n\nclass App extends Component {\n\n  state = {\n    isConnected:false,\n    id:null\n  }\n  socket = null\n\n  componentWillMount(){\n\n    this.socket = io('https://codi-server.herokuapp.com');\n\n    this.socket.on('connect', () => {\n      this.setState({isConnected:true})\n    })\n    this.socket.on('pong!',()=>{\n      console.log('the server answered!')\n    })\n\n    this.socket.on('pong!',(additionalStuff)=>{\n      console.log('server answered!', additionalStuff)\n    })\n\n    this.socket.on('youare',(answer)=>{\n      this.setState({id:answer.id})\n    })\n     \n    this.socket.on('disconnect', () => {\n      this.setState({isConnected:false})\n    })\n\n    /** this will be useful way, way later **/\n    this.socket.on('room', old_messages => console.log(old_messages))\n    this.socket.on('next',(message_from_server)=>console.log(message_from_server))\n\n  }\n\n  componentWillUnmount(){\n    this.socket.close()\n    this.socket = null\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div>status: {this.state.isConnected ? 'connected' : 'disconnected'}</div>\n        {/* We add the line below: */}\n        <button onClick={()=>this.socket.emit('ping!')}>ping</button>\n        {/* add: */}\n      <div>id: {this.state.id}</div>\n      <button onClick={()=>this.socket.emit('ping!')}>ping</button>\n      {/* and also add: */}\n      <button onClick={()=>this.socket.emit('whoami')}>Who am I?</button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}